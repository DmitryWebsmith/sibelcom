# Тестовые задачи
[Ссылка на вакансию](https://spb.hh.ru/vacancy/107558710?hhtmFrom=chat)

---

## Задача 1

Имеется n документов, каждый из которых представляет собой текст из слов. По этим документам требуется построить поисковый индекс. На вход системе будут подаваться запросы. Запрос —– некоторый набор слов. По запросу надо вывести 5 самых релевантных документов.

Релевантность документа оценивается следующим образом: для каждого уникального слова из запроса берётся число его вхождений в документ, полученные числа для всех слов из запроса суммируются. Итоговая сумма и является релевантностью документа. Чем больше сумма, тем больше документ подходит под запрос.

Сортировка документов на выдаче производится по убыванию релевантности. Если релевантности документов совпадают — то по возрастанию их порядковых номеров во входных данных.

### Формат ввода

Данные хранятся в файле `input.txt`.

1. В первой строке дано натуральное число n —– количество документов в базе (1 ≤ n ≤ 10^4).
2. Далее в n строках даны документы по одному в строке. Каждый документ состоит из нескольких слов, слова отделяются друг от друга одним пробелом и состоят из маленьких латинских букв. Длина одного текста не превосходит 1000 символов. Текст не бывает пустым.
3. В следующей строке дано число запросов —– натуральное число m (1 ≤ m ≤ 10^4).
4. В следующих m строках даны запросы по одному в строке. Каждый запрос состоит из одного или нескольких слов. Запрос не бывает пустым. Слова отделяются друг от друга одним пробелом и состоят из маленьких латинских букв. Число символов в запросе не превосходит 100.

**Пример:**

3   
i love coffee   
coffee with milk and sugar   
free tea for everyone   
3   
i like black coffee without milk   
everyone loves new year   
mary likes black coffee without milk


### Формат вывода

Для каждого запроса выведите на одной строке номера пяти самых релевантных документов. Если нашлось менее пяти документов, то выведите столько, сколько нашлось. Документы с релевантностью 0 выдавать не нужно.

**Пример:**

1 2  
3  
2 1


---

## Задача 2

Имеются сайты-каталоги партномеров:
- [https://www.promelec.ru/](https://www.promelec.ru/)
- [https://www.chipdip.ru/](https://www.chipdip.ru/)
- [https://www.chip1stop.com/](https://www.chip1stop.com/)

Нужно узнать, на каком из них можно заказать максимальное количество диодов BAS521,115. Чтобы визуально понять, сколько диодов можно заказать на каждом из сайтов, нужно ввести в строку поиска "BAS521,115" и посмотреть результаты выдачи.

### Формат вывода

Выведите список сайтов со ссылкой на результаты поиска и количеством диодов, которые можно заказать, отсортированный по убыванию количеству диодов, доступных к заказу. Если у двух сайтов одинаковое количество диодов, то первым будет тот, у которого доменное имя идёт раньше в алфавитном (лексикографическом) порядке.

**Пример:**

https://www.chip1stop.com/result-url 120 000  
https://www.chipdip.ru/result-url 30 000  
https://www.promelec.ru/result-url 10 010


---

## Задача 3

Сделайте описание архитектуры лучшего продукта/проекта/сервиса, который вы разрабатывали. Описание нужно сделать - на ваш выбор - в формате файла `README.MD` для Github или HTML.

---

## Локальная установка Docker

Загрузите файлы

```
git clone https://github.com/DmitryWebsmith/sibelcom.git
```  

Перейдите в директорию  

```angular2html
cd sibelcom
```

Выполните команды

```angular2html
docker compose build app && \
docker compose up -d
```

Приложение доступно по адресу

```angular2html
http://localhost
```

Примечание. Во втором задании адрес 

```angular2html
https://www.chip1stop.com/USA/en/view/searchResult/SearchResultTop?keyword=BAS521%2C115&partSameFlg=false
```  

загружается не сразу, а частями. В этом случае использование GuzzleHttp для получения html кода страницы нецелесообразен 
поскольку требуемое количество детали в таком коде не будет (количество деталей подгружается jQuery запросами).

Для решения проблемы используется пакет playwright, тем не менее www.chip1stop.com в headless режиме не открывается, а 
при отключенном headless режиме не работает в докере (докер не имеет графической среды).

## Локальная установка

Загрузите файлы

```
git clone https://github.com/DmitryWebsmith/sibelcom.git
```  

Перейдите в директорию

```angular2html
cd sibelcom
```

Выполните команды

```angular2html
composer install && \
npm install && \
npx playwright install-deps && \
npx playwright install && \
cd public  && \
php -S localhost:8000
```

Приложение доступно по адресу

```angular2html
http://localhost:8000
```